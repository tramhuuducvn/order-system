2024-10-20 15:09:46,274 INFO o.s.b.StartupInfoLogger [main] Starting DeliveryServiceApplication using Java 17.0.12 with PID 21880 (/home/dobermann/Java/Spring Boot/order-system/delivery-service/target/classes started by dobermann in /home/dobermann/Java/Spring Boot/order-system/delivery-service)
2024-10-20 15:09:46,277 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "local"
2024-10-20 15:09:46,622 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-10-20 15:09:46,661 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 3 MongoDB repository interfaces.
2024-10-20 15:09:47,164 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-10-20 15:09:47,172 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-10-20 15:09:47,177 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-10-20 15:09:47,177 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-10-20 15:09:47,220 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-10-20 15:09:47,222 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 898 ms
2024-10-20 15:09:47,675 INFO c.m.i.d.l.SLF4JLogger [main] You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb
2024-10-20 15:09:47,705 INFO c.m.i.d.l.SLF4JLogger [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.8.0-47-generic"}, "platform": "Java/Alibaba/17.0.12+7"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=SCRAM-SHA-256, userName='username', source='order-db', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1668919e, com.mongodb.Jep395RecordCodecProvider@63300c4b, com.mongodb.KotlinCodecProvider@22c53d82]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=ordersysdb.mongocluster.cosmos.azure.com, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=120000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-10-20 15:09:48,020 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='6714bacb7c43eb48e1183869', description='null'}-srv-ordersysdb.mongocluster.cosmos.azure.com] Exception while resolving SRV records
com.mongodb.MongoConfigurationException: Failed looking up SRV record for '_mongodb._tcp.ordersysdb.mongocluster.cosmos.azure.com'.
	at com.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:96)
	at com.mongodb.internal.connection.DefaultDnsSrvRecordMonitor$DnsSrvRecordMonitorRunnable.run(DefaultDnsSrvRecordMonitor.java:80)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: com.mongodb.MongoConfigurationException: No SRV records available for '_mongodb._tcp.ordersysdb.mongocluster.cosmos.azure.com'.
	at com.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:80)
	... 2 common frames omitted
2024-10-20 15:09:48,160 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-10-20 15:09:48,170 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-10-20 15:09:48,178 INFO o.s.b.StartupInfoLogger [main] Started DeliveryServiceApplication in 2.332 seconds (process running for 2.614)
2024-10-20 15:09:58,362 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='6714bacb7c43eb48e1183869', description='null'}-srv-ordersysdb.mongocluster.cosmos.azure.com] Exception while resolving SRV records
com.mongodb.MongoConfigurationException: Failed looking up SRV record for '_mongodb._tcp.ordersysdb.mongocluster.cosmos.azure.com'.
	at com.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:96)
	at com.mongodb.internal.connection.DefaultDnsSrvRecordMonitor$DnsSrvRecordMonitorRunnable.run(DefaultDnsSrvRecordMonitor.java:80)
	at java.base/java.lang.Thread.run(Thread.java:840)
Caused by: com.mongodb.MongoConfigurationException: No SRV records available for '_mongodb._tcp.ordersysdb.mongocluster.cosmos.azure.com'.
	at com.mongodb.internal.dns.DefaultDnsResolver.resolveHostFromSrvRecords(DefaultDnsResolver.java:80)
	... 2 common frames omitted
2024-10-20 15:57:27,552 INFO o.s.b.StartupInfoLogger [main] Starting DeliveryServiceApplicationTests using Java 17.0.12 with PID 30134 (started by dobermann in /home/dobermann/Java/Spring Boot/order-system/delivery-service)
2024-10-20 15:57:27,554 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2024-10-20 15:57:27,897 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-10-20 15:57:27,930 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 29 ms. Found 3 MongoDB repository interfaces.
2024-10-20 15:57:28,394 INFO c.m.i.d.l.SLF4JLogger [main] You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb
2024-10-20 15:57:28,406 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='6714c5f8f65f04165817417a', description='null'}-srv-testdb.mongocluster.cosmos.azure.com] Adding discovered server c.testdb.mongocluster.cosmos.azure.com:10260 to client view of cluster
2024-10-20 15:57:28,422 INFO c.m.i.d.l.SLF4JLogger [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.8.0-47-generic"}, "platform": "Java/Alibaba/17.0.12+7"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=SCRAM-SHA-256, userName='username', source='order-db', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@399ca607, com.mongodb.Jep395RecordCodecProvider@44114b9f, com.mongodb.KotlinCodecProvider@76bf1bb8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=testdb.mongocluster.cosmos.azure.com, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=120000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-10-20 15:57:29,036 INFO o.s.b.StartupInfoLogger [main] Started DeliveryServiceApplicationTests in 1.787 seconds (process running for 2.561)
2024-10-20 15:57:29,419 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='6714c5f8f65f04165817417a', description='null'}-c.testdb.mongocluster.cosmos.azure.com:10260] Monitor thread successfully connected to server with description ServerDescription{address=c.testdb.mongocluster.cosmos.azure.com:10260, type=SHARD_ROUTER, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=607409208}
2024-10-20 15:57:29,421 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='6714c5f8f65f04165817417a', description='null'}-c.testdb.mongocluster.cosmos.azure.com:10260] Discovered cluster type of SHARDED
2024-10-20 22:06:24,995 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-10-20 22:06:25,027 INFO o.s.b.StartupInfoLogger [main] Starting DeliveryServiceApplication using Java 17.0.12 with PID 66466 (/home/dobermann/Java/Spring Boot/order-system/delivery-service/target/classes started by dobermann in /home/dobermann/Java/Spring Boot/order-system/delivery-service)
2024-10-20 22:06:25,028 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2024-10-20 22:06:25,451 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-10-20 22:06:25,537 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 83 ms. Found 3 MongoDB repository interfaces.
2024-10-20 22:06:25,797 INFO o.s.c.l.LogAccessor [main] No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2024-10-20 22:06:25,802 INFO o.s.c.l.LogAccessor [main] No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2024-10-20 22:06:26,143 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-10-20 22:06:26,150 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-10-20 22:06:26,153 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-10-20 22:06:26,153 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-10-20 22:06:26,215 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-10-20 22:06:26,216 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1149 ms
2024-10-20 22:06:26,473 INFO c.m.i.d.l.SLF4JLogger [main] You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb
2024-10-20 22:06:26,499 INFO c.m.i.d.l.SLF4JLogger [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.8.0-47-generic"}, "platform": "Java/Alibaba/17.0.12+7"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=SCRAM-SHA-256, userName='username', source='order-db', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7159d601, com.mongodb.Jep395RecordCodecProvider@70b33256, com.mongodb.KotlinCodecProvider@33d230ce]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=testdb.mongocluster.cosmos.azure.com, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=120000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-10-20 22:06:26,633 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c72cb1cd4793f1ac7af', description='null'}-srv-testdb.mongocluster.cosmos.azure.com] Adding discovered server c.testdb.mongocluster.cosmos.azure.com:10260 to client view of cluster
2024-10-20 22:06:27,085 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"The following Netty versions were found on the classpath and have a mismatch with the versions used by azure-core-http-netty. If your application runs without issue this message can be ignored, otherwise please align the Netty versions used in your application. For more information, see https://aka.ms/azsdk/java/dependency/troubleshoot.","azure-netty-version":"4.1.110.Final","azure-netty-native-version":"2.0.65.Final","classpath-netty-version-io.netty:netty-common":"4.1.113.Final","classpath-netty-version-io.netty:netty-handler":"4.1.113.Final","classpath-netty-version-io.netty:netty-handler-proxy":"4.1.113.Final","classpath-netty-version-io.netty:netty-buffer":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec-http":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec-http2":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-unix-common":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-epoll":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-kqueue":"4.1.113.Final","classpath-native-netty-version-io.netty:netty-tcnative-boringssl-static":"2.0.66.Final"}
2024-10-20 22:06:27,167 WARN c.a.s.c.a.i.s.p.AzureServiceBusProperties [main] The namespace must be between 6 and 50 characters long.
2024-10-20 22:06:27,422 INFO o.s.c.l.LogAccessor [main] Channel 'delivery-service.consume-in-0' has 1 subscriber(s).
2024-10-20 22:06:27,473 INFO o.s.c.l.LogAccessor [main] Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2024-10-20 22:06:27,473 INFO o.s.c.l.LogAccessor [main] Channel 'delivery-service.errorChannel' has 1 subscriber(s).
2024-10-20 22:06:27,474 INFO o.s.c.l.LogAccessor [main] started bean '_org.springframework.integration.errorLogger'
2024-10-20 22:06:27,474 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-10-20 22:06:27,478 INFO o.s.c.l.LogAccessor [main] Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2024-10-20 22:06:27,479 INFO o.s.c.l.LogAccessor [main] Channel 'delivery-service.errorChannel' has 0 subscriber(s).
2024-10-20 22:06:27,479 INFO o.s.c.l.LogAccessor [main] stopped bean '_org.springframework.integration.errorLogger'
2024-10-20 22:06:27,479 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2024-10-20 22:06:27,495 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-20 22:06:27,507 ERROR o.s.b.d.LoggingFailureAnalysisReporter [main] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2024-10-20 22:06:41,129 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-10-20 22:06:41,166 INFO o.s.b.StartupInfoLogger [main] Starting DeliveryServiceApplication using Java 17.0.12 with PID 66641 (/home/dobermann/Java/Spring Boot/order-system/delivery-service/target/classes started by dobermann in /home/dobermann/Java/Spring Boot/order-system/delivery-service)
2024-10-20 22:06:41,167 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "dev"
2024-10-20 22:06:41,580 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-10-20 22:06:41,667 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 83 ms. Found 3 MongoDB repository interfaces.
2024-10-20 22:06:41,920 INFO o.s.c.l.LogAccessor [main] No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2024-10-20 22:06:41,926 INFO o.s.c.l.LogAccessor [main] No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2024-10-20 22:06:42,253 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2024-10-20 22:06:42,260 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-10-20 22:06:42,264 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-10-20 22:06:42,264 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-10-20 22:06:42,315 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-10-20 22:06:42,316 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1110 ms
2024-10-20 22:06:42,494 INFO c.m.i.d.l.SLF4JLogger [main] You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb
2024-10-20 22:06:42,506 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c828acbd90100d136a4', description='null'}-srv-testdb.mongocluster.cosmos.azure.com] Adding discovered server c.testdb.mongocluster.cosmos.azure.com:10260 to client view of cluster
2024-10-20 22:06:42,526 INFO c.m.i.d.l.SLF4JLogger [main] MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.8.0-47-generic"}, "platform": "Java/Alibaba/17.0.12+7"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=SCRAM-SHA-256, userName='username', source='order-db', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4e48462d, com.mongodb.Jep395RecordCodecProvider@17216605, com.mongodb.KotlinCodecProvider@10a907ec]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=testdb.mongocluster.cosmos.azure.com, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=120000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-10-20 22:06:43,090 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"The following Netty versions were found on the classpath and have a mismatch with the versions used by azure-core-http-netty. If your application runs without issue this message can be ignored, otherwise please align the Netty versions used in your application. For more information, see https://aka.ms/azsdk/java/dependency/troubleshoot.","azure-netty-version":"4.1.110.Final","azure-netty-native-version":"2.0.65.Final","classpath-netty-version-io.netty:netty-common":"4.1.113.Final","classpath-netty-version-io.netty:netty-handler":"4.1.113.Final","classpath-netty-version-io.netty:netty-handler-proxy":"4.1.113.Final","classpath-netty-version-io.netty:netty-buffer":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec-http":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec-http2":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-unix-common":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-epoll":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-kqueue":"4.1.113.Final","classpath-native-netty-version-io.netty:netty-tcnative-boringssl-static":"2.0.66.Final"}
2024-10-20 22:06:43,182 WARN c.a.s.c.a.i.s.p.AzureServiceBusProperties [main] The namespace must be between 6 and 50 characters long.
2024-10-20 22:06:43,423 INFO o.s.c.l.LogAccessor [main] Channel 'delivery-service.consume-in-0' has 1 subscriber(s).
2024-10-20 22:06:43,428 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c828acbd90100d136a4', description='null'}-c.testdb.mongocluster.cosmos.azure.com:10260] Monitor thread successfully connected to server with description ServerDescription{address=c.testdb.mongocluster.cosmos.azure.com:10260, type=SHARD_ROUTER, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=569642876}
2024-10-20 22:06:43,430 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c828acbd90100d136a4', description='null'}-c.testdb.mongocluster.cosmos.azure.com:10260] Discovered cluster type of SHARDED
2024-10-20 22:06:43,478 INFO o.s.c.l.LogAccessor [main] Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2024-10-20 22:06:43,478 INFO o.s.c.l.LogAccessor [main] Channel 'delivery-service.errorChannel' has 1 subscriber(s).
2024-10-20 22:06:43,479 INFO o.s.c.l.LogAccessor [main] started bean '_org.springframework.integration.errorLogger'
2024-10-20 22:06:43,479 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2024-10-20 22:06:43,490 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/'
2024-10-20 22:06:43,491 INFO o.s.c.s.b.DefaultBinderFactory [main] Creating binder: servicebus
2024-10-20 22:06:43,492 INFO o.s.c.s.b.DefaultBinderFactory [main] Constructing binder child context for servicebus
2024-10-20 22:06:43,544 WARN c.a.s.c.a.i.s.p.AzureServiceBusProperties [main] The namespace must be between 6 and 50 characters long.
2024-10-20 22:06:43,609 INFO o.s.c.s.b.DefaultBinderFactory [main] Caching the binder: servicebus
2024-10-20 22:06:43,625 INFO o.s.c.l.LogAccessor [main] Channel '1498179267.consume-in-0.errors' has 1 subscriber(s).
2024-10-20 22:06:43,626 INFO o.s.c.l.LogAccessor [main] Channel '1498179267.consume-in-0.errors' has 2 subscriber(s).
2024-10-20 22:06:43,666 INFO c.a.c.u.l.ClientLogger [main] # of open clients using shared connection cache: 1
2024-10-20 22:06:43,680 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Creating consumer.","linkName":"test_561619_1729436803680","entityPath":"test"}
2024-10-20 22:06:43,726 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Waiting to connect and active.","entityPath":"N/A","connectionId":"MF_85ec7b_1729436803697"}
2024-10-20 22:06:43,729 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Creating and starting connection.","connectionId":"MF_85ec7b_1729436803697","hostName":"test.servicebus.windows.net","port":5671}
2024-10-20 22:06:43,741 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Starting reactor.","connectionId":"MF_85ec7b_1729436803697"}
2024-10-20 22:06:43,745 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onConnectionInit","connectionId":"MF_85ec7b_1729436803697","hostName":"test.servicebus.windows.net","namespace":"test.servicebus.windows.net"}
2024-10-20 22:06:43,746 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"reactor.onReactorInit","connectionId":"MF_85ec7b_1729436803697"}
2024-10-20 22:06:43,746 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onConnectionLocalOpen","connectionId":"MF_85ec7b_1729436803697","hostName":"test.servicebus.windows.net"}
2024-10-20 22:06:43,747 INFO o.s.c.l.LogAccessor [main] started com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter@4229b92c
2024-10-20 22:06:43,758 INFO o.s.b.StartupInfoLogger [main] Started DeliveryServiceApplication in 3.058 seconds (process running for 3.388)
2024-10-20 22:06:43,801 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onConnectionBound","connectionId":"MF_85ec7b_1729436803697","hostName":"test.servicebus.windows.net","peerDetails":"test.servicebus.windows.net:5671"}
2024-10-20 22:06:48,064 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] stopped com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter@4229b92c
2024-10-20 22:06:48,068 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] Channel 'delivery-service.1498179267.consume-in-0.errors' has 1 subscriber(s).
2024-10-20 22:06:48,072 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2024-10-20 22:06:48,072 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] Channel 'delivery-service.errorChannel' has 0 subscriber(s).
2024-10-20 22:06:48,073 INFO o.s.c.l.LogAccessor [SpringApplicationShutdownHook] stopped bean '_org.springframework.integration.errorLogger'
2024-10-20 22:06:52,300 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-10-20 22:06:52,332 INFO o.s.b.StartupInfoLogger [main] Starting DeliveryServiceApplication using Java 17.0.12 with PID 66802 (/home/dobermann/Java/Spring Boot/order-system/delivery-service/target/classes started by dobermann in /home/dobermann/Java/Spring Boot/order-system/delivery-service)
2024-10-20 22:06:52,333 INFO o.s.b.SpringApplication [main] The following 1 profile is active: "local"
2024-10-20 22:06:52,803 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2024-10-20 22:06:52,894 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 3 MongoDB repository interfaces.
2024-10-20 22:06:53,144 INFO o.s.c.l.LogAccessor [main] No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2024-10-20 22:06:53,149 INFO o.s.c.l.LogAccessor [main] No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2024-10-20 22:06:53,495 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8082 (http)
2024-10-20 22:06:53,504 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8082"]
2024-10-20 22:06:53,507 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-10-20 22:06:53,508 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-10-20 22:06:53,574 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-10-20 22:06:53,575 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1190 ms
2024-10-20 22:06:53,658 INFO c.m.i.d.l.SLF4JLogger [main] You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb
2024-10-20 22:06:53,665 INFO c.m.i.d.l.SLF4JLogger [main] Adding discovered server order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255 to client view of cluster
2024-10-20 22:06:53,713 INFO c.m.i.d.l.SLF4JLogger [main] MongoClient with metadata {"application": {"name": "@order-sys-cosmosdb-account@"}, "driver": {"name": "mongo-java-driver|sync", "version": "5.0.1"}, "os": {"type": "Linux", "name": "Linux", "architecture": "amd64", "version": "6.8.0-47-generic"}, "platform": "Java/Alibaba/17.0.12+7"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='order-sys-cosmosdb-account', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@661e1399, com.mongodb.Jep395RecordCodecProvider@3ffd4b12, com.mongodb.KotlinCodecProvider@424f02b8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='globaldb', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=120000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='@order-sys-cosmosdb-account@', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2024-10-20 22:06:54,315 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"The following Netty versions were found on the classpath and have a mismatch with the versions used by azure-core-http-netty. If your application runs without issue this message can be ignored, otherwise please align the Netty versions used in your application. For more information, see https://aka.ms/azsdk/java/dependency/troubleshoot.","azure-netty-version":"4.1.110.Final","azure-netty-native-version":"2.0.65.Final","classpath-netty-version-io.netty:netty-common":"4.1.113.Final","classpath-netty-version-io.netty:netty-handler":"4.1.113.Final","classpath-netty-version-io.netty:netty-handler-proxy":"4.1.113.Final","classpath-netty-version-io.netty:netty-buffer":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec-http":"4.1.113.Final","classpath-netty-version-io.netty:netty-codec-http2":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-unix-common":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-epoll":"4.1.113.Final","classpath-netty-version-io.netty:netty-transport-native-kqueue":"4.1.113.Final","classpath-native-netty-version-io.netty:netty-tcnative-boringssl-static":"2.0.66.Final"}
2024-10-20 22:06:54,648 INFO o.s.c.l.LogAccessor [main] Channel 'delivery-service.consume-in-0' has 1 subscriber(s).
2024-10-20 22:06:54,702 INFO o.s.c.l.LogAccessor [main] Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2024-10-20 22:06:54,702 INFO o.s.c.l.LogAccessor [main] Channel 'delivery-service.errorChannel' has 1 subscriber(s).
2024-10-20 22:06:54,702 INFO o.s.c.l.LogAccessor [main] started bean '_org.springframework.integration.errorLogger'
2024-10-20 22:06:54,703 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8082"]
2024-10-20 22:06:54,714 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8082 (http) with context path '/'
2024-10-20 22:06:54,716 INFO o.s.c.s.b.DefaultBinderFactory [main] Creating binder: servicebus
2024-10-20 22:06:54,716 INFO o.s.c.s.b.DefaultBinderFactory [main] Constructing binder child context for servicebus
2024-10-20 22:06:54,831 INFO o.s.c.s.b.DefaultBinderFactory [main] Caching the binder: servicebus
2024-10-20 22:06:54,847 INFO o.s.c.l.LogAccessor [main] Channel '1401589925.consume-in-0.errors' has 1 subscriber(s).
2024-10-20 22:06:54,848 INFO o.s.c.l.LogAccessor [main] Channel '1401589925.consume-in-0.errors' has 2 subscriber(s).
2024-10-20 22:06:54,885 INFO c.a.c.u.l.ClientLogger [main] # of open clients using shared connection cache: 1
2024-10-20 22:06:54,899 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Creating consumer.","linkName":"delivery_queue_0196ab_1729436814899","entityPath":"delivery_queue"}
2024-10-20 22:06:54,945 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Waiting to connect and active.","entityPath":"N/A","connectionId":"MF_0a0d5d_1729436814915"}
2024-10-20 22:06:54,947 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Creating and starting connection.","connectionId":"MF_0a0d5d_1729436814915","hostName":"ordersyssvcbusnamespace.servicebus.windows.net","port":5671}
2024-10-20 22:06:54,960 INFO c.a.c.u.l.LoggingEventBuilder [main] {"az.sdk.message":"Starting reactor.","connectionId":"MF_0a0d5d_1729436814915"}
2024-10-20 22:06:54,964 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onConnectionInit","connectionId":"MF_0a0d5d_1729436814915","hostName":"ordersyssvcbusnamespace.servicebus.windows.net","namespace":"ordersyssvcbusnamespace.servicebus.windows.net"}
2024-10-20 22:06:54,965 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"reactor.onReactorInit","connectionId":"MF_0a0d5d_1729436814915"}
2024-10-20 22:06:54,965 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onConnectionLocalOpen","connectionId":"MF_0a0d5d_1729436814915","hostName":"ordersyssvcbusnamespace.servicebus.windows.net"}
2024-10-20 22:06:54,966 INFO o.s.c.l.LogAccessor [main] started com.azure.spring.integration.servicebus.inbound.ServiceBusInboundChannelAdapter@55315a00
2024-10-20 22:06:54,979 INFO o.s.b.StartupInfoLogger [main] Started DeliveryServiceApplication in 3.11 seconds (process running for 3.446)
2024-10-20 22:06:55,021 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c8dedeef569fb3e16e2', description='@order-sys-cosmosdb-account@'}-order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255] Monitor thread successfully connected to server with description ServerDescription{address=order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=840192516, setName='globaldb', canonicalAddress=order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255, hosts=[order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255], passives=[], arbiters=[], primary='order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255', tagSet=TagSet{[Tag{name='region', value='East US 2'}]}, electionId=null, setVersion=1, topologyVersion=null, lastWriteDate=null, lastUpdateTimeNanos=36104132405026}
2024-10-20 22:06:55,023 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onConnectionBound","connectionId":"MF_0a0d5d_1729436814915","hostName":"ordersyssvcbusnamespace.servicebus.windows.net","peerDetails":"ordersyssvcbusnamespace.servicebus.windows.net:5671"}
2024-10-20 22:06:55,024 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c8dedeef569fb3e16e2', description='@order-sys-cosmosdb-account@'}-order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255] Adding discovered server order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255 to client view of cluster
2024-10-20 22:06:55,026 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c8dedeef569fb3e16e2', description='@order-sys-cosmosdb-account@'}-order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255] Server order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255 is no longer a member of the replica set.  Removing from client view of cluster.
2024-10-20 22:06:55,030 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c8dedeef569fb3e16e2', description='@order-sys-cosmosdb-account@'}-order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255] Discovered replica set primary order-sys-cosmosdb-account.mongo.cosmos.azure.com:10255 with max election id null and max set version 1
2024-10-20 22:06:56,173 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c8dedeef569fb3e16e2', description='@order-sys-cosmosdb-account@'}-order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255] Monitor thread successfully connected to server with description ServerDescription{address=order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=785576160, setName='globaldb', canonicalAddress=order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255, hosts=[order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255], passives=[], arbiters=[], primary='order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255', tagSet=TagSet{[Tag{name='region', value='East US 2'}]}, electionId=null, setVersion=1, topologyVersion=null, lastWriteDate=null, lastUpdateTimeNanos=36105284642366}
2024-10-20 22:06:56,174 INFO c.m.i.d.l.SLF4JLogger [cluster-ClusterId{value='67151c8dedeef569fb3e16e2', description='@order-sys-cosmosdb-account@'}-order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255] Discovered replica set primary order-sys-cosmosdb-account-eastus2.mongo.cosmos.azure.com:10255 with max election id null and max set version 1
2024-10-20 22:06:56,421 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onConnectionRemoteOpen","connectionId":"MF_0a0d5d_1729436814915","hostName":"ordersyssvcbusnamespace.servicebus.windows.net","remoteContainer":"579ff82b74b246d1a7d9447e7ce21a54_G4"}
2024-10-20 22:06:56,424 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Emitting the new active connection.","entityPath":"N/A","connectionId":"MF_0a0d5d_1729436814915"}
2024-10-20 22:06:56,761 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onSessionRemoteOpen","connectionId":"MF_0a0d5d_1729436814915","sessionName":"delivery_queue","sessionId":"H_22448c_1729436816429","sessionIncCapacity":0,"sessionOutgoingWindow":2147483647}
2024-10-20 22:06:56,778 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Setting CBS channel.","connectionId":"MF_0a0d5d_1729436814915"}
2024-10-20 22:06:57,095 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onSessionRemoteOpen","connectionId":"MF_0a0d5d_1729436814915","sessionName":"cbs-session","sessionId":"H_f5b0d2_1729436816781","sessionIncCapacity":0,"sessionOutgoingWindow":2147483647}
2024-10-20 22:06:57,112 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Emitting new response channel.","connectionId":"MF_0a0d5d_1729436814915","entityPath":"$cbs","linkName":"cbs"}
2024-10-20 22:06:57,112 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Setting next AMQP channel.","connectionId":"MF_0a0d5d_1729436814915","entityPath":"$cbs"}
2024-10-20 22:06:57,116 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Next AMQP channel received.","connectionId":"MF_0a0d5d_1729436814915","entityPath":"$cbs","subscriberId":"un_4d10f3_1729436816783"}
2024-10-20 22:06:57,357 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onLinkRemoteOpen","connectionId":"MF_0a0d5d_1729436814915","linkName":"cbs:sender","entityPath":"$cbs","remoteTarget":"Target{address='$cbs', durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=false, dynamicNodeProperties=null, capabilities=null}"}
2024-10-20 22:06:57,359 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Channel is now active.","connectionId":"MF_0a0d5d_1729436814915","entityPath":"$cbs"}
2024-10-20 22:06:57,362 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onLinkRemoteOpen","connectionId":"MF_0a0d5d_1729436814915","entityPath":"$cbs","linkName":"cbs:receiver","remoteSource":"Source{address='$cbs', durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=false, dynamicNodeProperties=null, distributionMode=null, filter=null, defaultOutcome=null, outcomes=null, capabilities=null}"}
2024-10-20 22:06:57,610 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Scheduling refresh token task.","scopes":"amqp://ordersyssvcbusnamespace.servicebus.windows.net/delivery_queue"}
2024-10-20 22:06:57,618 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Creating a new receiver link.","connectionId":"MF_0a0d5d_1729436814915","sessionName":"delivery_queue","sessionId":"H_22448c_1729436816429","linkName":"delivery_queue_0196ab_1729436814899"}
2024-10-20 22:06:57,628 WARN c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"Setting next mediator and waiting for activation.","messageFlux":"mf_c8ddaa_1729436814904","connectionId":"MF_0a0d5d_1729436814915","linkName":"delivery_queue_0196ab_1729436814899","entityPath":"delivery_queue"}
2024-10-20 22:06:57,951 INFO c.a.c.u.l.LoggingEventBuilder [reactor-executor-1] {"az.sdk.message":"onLinkRemoteOpen","connectionId":"MF_0a0d5d_1729436814915","entityPath":"delivery_queue","linkName":"delivery_queue_0196ab_1729436814899","remoteSource":"Source{address='delivery_queue', durable=NONE, expiryPolicy=SESSION_END, timeout=0, dynamic=false, dynamicNodeProperties=null, distributionMode=null, filter=null, defaultOutcome=null, outcomes=null, capabilities=null}"}
2024-10-20 22:06:57,951 WARN c.a.c.u.l.LoggingEventBuilder [receiverPump-1] {"az.sdk.message":"The mediator is active.","messageFlux":"mf_c8ddaa_1729436814904","connectionId":"MF_0a0d5d_1729436814915","linkName":"delivery_queue_0196ab_1729436814899","entityPath":"delivery_queue"}
2024-10-20 22:07:35,613 INFO c.e.d.c.ConsumerConfig [receiverPump-2] New message received: '{"order":{"id":"4","userId":"ductram","items":[{"id":"product_1","name":"bot_giat_omo","price":12.5,"quantity":1},{"id":"product_2","name":"vinamilk 220ml low sugar","price":7.6,"quantity":1}],"paymentMethod":"MOMO","status":"CONFIRMED"},"action":"LETS_DELIVEY"}'
2024-10-20 22:07:35,890 INFO c.e.d.c.ConsumerConfig [receiverPump-2] Message '{"order":{"id":"4","userId":"ductram","items":[{"id":"product_1","name":"bot_giat_omo","price":12.5,"quantity":1},{"id":"product_2","name":"vinamilk 220ml low sugar","price":7.6,"quantity":1}],"paymentMethod":"MOMO","status":"CONFIRMED"},"action":"LETS_DELIVEY"}' successfully checkpointed
